FROM node:10.12.0-alpine
RUN yarn global add typescript@^2.9.1 ts-node@^6.0.5 pg@^7.4.3 typeorm@^0.2.6

WORKDIR /working_dir
VOLUME /working_dir
ENV TYPEORM_CONNECTION=
ENV TYPEORM_HOST=
ENV TYPEORM_USERNAME=
ENV TYPEORM_PASSWORD=
ENV TYPEORM_DATABASE=
ENV TYPEORM_PORT=
ENV TYPEORM_URL=
ENV TYPEORM_SID=
ENV TYPEORM_SCHEMA=
ENV TYPEORM_SYNCHRONIZE=
ENV TYPEORM_DROP_SCHEMA=
ENV TYPEORM_MIGRATIONS_RUN=
ENV TYPEORM_ENTITIES=
ENV TYPEORM_MIGRATIONS=
ENV TYPEORM_SUBSCRIBERS=
ENV TYPEORM_ENTITY_SCHEMAS=
ENV TYPEORM_LOGGING=
ENV TYPEORM_LOGGER=
ENV TYPEORM_ENTITY_PREFIX=
ENV TYPEORM_MAX_QUERY_EXECUTION_TIME=
ENV TYPEORM_ENTITIES_DIR=
ENV TYPEORM_MIGRATIONS_DIR=
ENV TYPEORM_SUBSCRIBERS_DIR=
ENV TYPEORM_DRIVER_EXTRA=
COPY --chown=node entrypoint.sh /entrypoint.sh
ENTRYPOINT ["/entrypoint.sh"]
CMD [""]