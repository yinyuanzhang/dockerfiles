FROM node:8
MAINTAINER Gregoire Jeanmart <gregoire.jeanmart@gmail.com>

####################################################################################################################
# WORKING DIRECTORY
WORKDIR /usr/src/app

####################################################################################################################
# WORKING DIRECTORY
ENV PATH /usr/src/app/:$PATH

####################################################################################################################
# DEPENDANCIES
COPY package*.json ./
RUN npm install --silent

####################################################################################################################
# COPY FILES
COPY ./helpers/*.js ./helpers/
COPY ./scripts/*.js ./scripts/
COPY ./index.js ./
COPY ./run.sh ./

RUN chmod +x ./run.sh

####################################################################################################################
# RUN
ENTRYPOINT ["run.sh"]
